.thumbnail.article
  .caption-full
    %h4
      = @article.title |
      %span.pull-right
        - if can? :update, @article
          = link_to 'Edit', edit_article_path(@article), :class => 'btn btn-primary' 
    %hr/
    = image_tag(@article.featured.url, :class => 'article-img img-responsive')
    %hr/   
    %p.body= @article.text.html_safe
  %p.pull-right
    %span.glyphicon.glyphicon-tags
    %span.btn.btn-default.btn-xs= raw @article.tags.map { |t| link_to t.name, tag_path(t.id) }.join(' | ')
  .ratings
    %p
      = time_ago_in_words(@article.created_at)
      ago
    .small.blue
      %span.eta
      (
      %span.word-count
      words)
.well
  .text-right
    %h4 Comments
  %hr/
  = render @article.comments
.panel.panel-default
  .panel-heading.caption-full
    %p Leave a Comment
  .panel-body
    - if user_signed_in?
      = render 'comments/form'
      / - if @comment.errors.any?
      /   .panel.panel-danger
      /     .panel-heading
      /       %h3.panel-title
      /         = pluralize(@comment.errors.count, "error")
      /         prohibited this comment from being saved:
      /     .panel-body
      /       %ul
      /         - @comment.errors.full_messages.each do |msg|
      /           %li= msg
    - else
      %em you must be logged in to comment !! 
= link_to 'Back', articles_path, :class => 'btn btn-default'

:javascript
  jQuery( document ).ready(function( $ ) {
    var $article = $('.article');
    $article.readingTime({
        readingTimeTarget: $article.find('.eta'),
        wordCountTarget: $article.find('.word-count'),
        wordsPerMinute: 100,
        round: false,
        lang: 'fr',
        success: function() {
            console.log('It worked!');
        },
        error: function(message) {
            console.log(message);
            $article.find('.eta').remove();
        }
    });
  });